"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[268],{4284:function(n,e,r){r.d(e,{X:function(){return t}});var t=function(n){n("Apologies, but it seems that something didn't go as planned. Please bear with us and try again later.")}},854:function(n,e,r){var t=r(824),a=r(8593),i=r(184);e.Z=function(){return(0,i.jsx)(t.xu,{display:"flex",alignItems:"center",justifyContent:"center",children:(0,i.jsx)(a.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})}},5712:function(n,e,r){r.d(e,{j:function(){return l}});var t=r(5861),a=r(9439),i=r(4687),o=r.n(i),c=r(2791),s=r(4284),u=r(7689),l=function(n){var e=(0,c.useState)([]),r=(0,a.Z)(e,2),i=r[0],l=r[1],d=(0,c.useState)(null),f=(0,a.Z)(d,2),p=f[0],h=f[1],x=(0,u.UO)().movieId;return(0,c.useEffect)((function(){if(x){var e=function(){var e=(0,t.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(x);case 3:r=e.sent,l(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,s.X)(h);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}}),[x,n]),{data:i,error:p}}},6268:function(n,e,r){r.r(e),r.d(e,{default:function(){return X}});var t=r(2791),a=r(7689),i=r(4390),o=r(854),c=r(824),s=r(9055),u=r(1061),l=r(9589),d=r(1413),f=r(4925),p=r(7762),h=r(5597),x=r(184),g=["htmlWidth","htmlHeight","alt"],v=(0,h.G)((function(n,e){var r=n.htmlWidth,t=n.htmlHeight,a=n.alt,i=(0,f.Z)(n,g);return(0,x.jsx)("img",(0,d.Z)({width:r,height:t,ref:e,alt:a},i))}));v.displayName="NativeImage";var m=r(9439),b=r(9205);var j=r(1665),y=["fallbackSrc","fallback","src","srcSet","align","fit","loading","ignoreFallback","crossOrigin","fallbackStrategy","referrerPolicy"];var w=(0,h.G)((function(n,e){var r=n.fallbackSrc,a=n.fallback,i=n.src,o=n.srcSet,c=n.align,s=n.fit,u=n.loading,l=n.ignoreFallback,h=n.crossOrigin,g=n.fallbackStrategy,w=void 0===g?"beforeLoadOrError":g,k=n.referrerPolicy,Z=(0,f.Z)(n,y),_=null!=u||l||!(void 0!==r||void 0!==a),S=function(n){var e=n.loading,r=n.src,a=n.srcSet,i=n.onLoad,o=n.onError,c=n.crossOrigin,s=n.sizes,u=n.ignoreFallback,l=(0,t.useState)("pending"),d=(0,m.Z)(l,2),f=d[0],p=d[1];(0,t.useEffect)((function(){p(r?"loading":"pending")}),[r]);var h=(0,t.useRef)(),x=(0,t.useCallback)((function(){if(r){g();var n=new Image;n.src=r,c&&(n.crossOrigin=c),a&&(n.srcset=a),s&&(n.sizes=s),e&&(n.loading=e),n.onload=function(n){g(),p("loaded"),null==i||i(n)},n.onerror=function(n){g(),p("failed"),null==o||o(n)},h.current=n}}),[r,c,a,s,i,o,e]),g=function(){h.current&&(h.current.onload=null,h.current.onerror=null,h.current=null)};return(0,b.G)((function(){if(!u)return"loading"===f&&x(),function(){g()}}),[f,x,u]),u?"loaded":f}((0,d.Z)((0,d.Z)({},n),{},{crossOrigin:h,ignoreFallback:_})),O=function(n,e){return"loaded"!==n&&"beforeLoadOrError"===e||"failed"===n&&"onError"===e}(S,w),A=(0,d.Z)({ref:e,objectFit:s,objectPosition:c},_?Z:function(n){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object.assign({},n),a=(0,p.Z)(r);try{for(a.s();!(e=a.n()).done;){var i=e.value;i in t&&delete t[i]}}catch(o){a.e(o)}finally{a.f()}return t}(Z,["onError","onLoad"]));return O?a||(0,x.jsx)(j.m.img,(0,d.Z)({as:v,className:"chakra-image__placeholder",src:r},A)):(0,x.jsx)(j.m.img,(0,d.Z)({as:v,src:i,srcSet:o,crossOrigin:h,loading:u,referrerPolicy:k,className:"chakra-image"},A))}));w.displayName="Image";var k=r(6992);Object.freeze(["base","sm","md","lg","xl","2xl"]);var Z=["ratio","children","className"],_=(0,h.G)((function(n,e){var r,a,i=n.ratio,o=void 0===i?4/3:i,c=n.children,s=n.className,u=(0,f.Z)(n,Z),l=t.Children.only(c),p=(0,k.cx)("chakra-aspect-ratio",s);return(0,x.jsx)(j.m.div,(0,d.Z)((0,d.Z)({ref:e,position:"relative",className:p,_before:{height:0,content:'""',display:"block",paddingBottom:(r=o,a=function(n){return"".concat(1/n*100,"%")},Array.isArray(r)?r.map((function(n){return null===n?null:a(n)})):(0,k.Kn)(r)?Object.keys(r).reduce((function(n,e){return n[e]=a(r[e]),n}),{}):null!=r?a(r):null)},__css:{"& > *:not(style)":{overflow:"hidden",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"& > img, & > video":{objectFit:"cover"}}},u),{},{children:l}))}));_.displayName="AspectRatio";var S,O,A,z,N=r(5712),C=function(n){var e,r=n.posterPath,t=n.title,a=n.voteAverage,o=n.overview,s=n.genres,u=(n.id,(0,N.j)(i.VH)),d=u.data,f=u.error,p=null===d||void 0===d||null===(e=d.find((function(n){return"Trailer"===n.type})))||void 0===e?void 0:e.key;return(0,x.jsxs)(c.xu,{mt:"28px",children:[(0,x.jsx)(l.X,{mb:"12px",children:t}),(0,x.jsxs)(c.xu,{mt:"12px",display:"flex",flexDirection:{base:"column",md:"row"},gap:{base:"12px",md:"24px"},children:[(0,x.jsx)(c.xu,{flex:"1",maxW:"520px",children:(0,x.jsx)(w,{maxW:{base:"100%"},src:r||"https://www.ormistonhospital.co.nz/wp-content/uploads/2016/05/No-Image.jpg",alt:t})}),(0,x.jsxs)(c.xu,{flex:"1",children:[p&&!f&&(0,x.jsx)(c.xu,{mb:"24px",children:(0,x.jsx)(_,{ratio:16/9,children:(0,x.jsx)("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/".concat(p),title:"".concat(t," Trailer"),allowFullScreen:!0})})}),(0,x.jsxs)(c.xu,{children:[(0,x.jsxs)("p",{children:["Users score: ",(10*a).toFixed(),"%"]}),(0,x.jsx)(l.X,{as:"h3",size:"md",mt:"12px",children:"Overview"}),(0,x.jsx)("p",{children:o}),(0,x.jsx)(l.X,{as:"h3",size:"md",mt:"24px",children:"Genres"}),(0,x.jsx)(c.xu,{mt:"12px",children:s&&s.map((function(n,e){return(0,x.jsx)(c.xu,{as:"span",backgroundColor:"gray.500",borderRadius:"md",padding:"4px 8px",mr:"4px",mb:"4px",display:"inline-block",children:n.name},e)}))})]})]})]})]})},U=r(1087),I=r(168),L=r(6088),P=L.Z.div(S||(S=(0,I.Z)(["\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);\n"]))),F=L.Z.h3(O||(O=(0,I.Z)(["\n  font-size: 1.5rem;\n  margin-bottom: 10px;\n"]))),E=L.Z.ul(A||(A=(0,I.Z)(["\n  display: flex;\n  gap: 28px;\n  list-style-type: none;\n  padding: 0;\n"]))),H=L.Z.li(z||(z=(0,I.Z)(["\n  margin-bottom: 8px;\n"]))),W=function(n){var e,r,t=n.location;return(0,x.jsxs)(P,{children:[(0,x.jsx)(F,{children:" Additional information"}),(0,x.jsxs)(E,{children:[(0,x.jsx)(H,{children:(0,x.jsx)(s.z,{as:U.rU,to:"cast",state:{from:null===(e=t.state)||void 0===e?void 0:e.from},children:"Cast"})}),(0,x.jsx)("li",{children:(0,x.jsx)(s.z,{as:U.rU,to:"reviews",state:{from:null===(r=t.state)||void 0===r?void 0:r.from},children:"Reviews"})})]})]})},G=(0,t.lazy)((function(){return r.e(565).then(r.bind(r,4565))})),M=(0,t.lazy)((function(){return r.e(499).then(r.bind(r,8499))})),X=function(){var n=(0,N.j)(i.Pg),e=n.data,r=n.error,l=n.loading,d=(0,a.TH)(),f=(0,a.s0)();return(0,x.jsxs)(c.xu,{minHeight:"100hv",children:[(0,x.jsx)(s.z,{type:"button",onClick:function(){d.state?f(d.state.from):f("/")},_hover:{color:"orange"},children:(0,x.jsx)(u.Y,{})}),l&&(0,x.jsx)(o.Z,{}),r?(0,x.jsx)("p",{children:r}):e&&!l&&(0,x.jsx)(C,{id:e.id,posterPath:e.poster_path&&"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),title:e.original_title||e.name,voteAverage:e.vote_average,overview:e.overview,genres:e.genres}),!r&&(0,x.jsx)(W,{location:d}),!r&&(0,x.jsx)(t.Suspense,{fallback:(0,x.jsx)("div",{style:{margin:"0 auto"},children:"LOADING....."}),children:(0,x.jsxs)(a.Z5,{children:[(0,x.jsx)(a.AW,{path:"cast",element:(0,x.jsx)(G,{})}),(0,x.jsx)(a.AW,{path:"reviews",element:(0,x.jsx)(M,{})})]})})]})}},4390:function(n,e,r){r.d(e,{M1:function(){return f},Pg:function(){return d},VH:function(){return x},gH:function(){return l},tx:function(){return p},ur:function(){return u},yB:function(){return h}});var t=r(5861),a=r(4687),i=r.n(a),o=r(1243),c="https://api.themoviedb.org/3",s="88b8a7c5d221d3120fb29d734050dc7d",u=function(){var n=(0,t.Z)(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(c,"/trending/all/day?api_key=").concat(s,"&language=en-US"));case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=(0,t.Z)(i().mark((function n(e){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(c,"/search/movie?api_key=").concat(s,"&language=en-US&query=").concat(e));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,t.Z)(i().mark((function n(e){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(c,"/movie/").concat(e,"?api_key=").concat(s,"&language=en-US"));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,t.Z)(i().mark((function n(e){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(c,"/movie/").concat(e,"/credits?api_key=").concat(s,"&language=en-US"));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,t.Z)(i().mark((function n(e){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(c,"/movie/").concat(e,"/reviews?api_key=").concat(s,"&language=en-US"));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,t.Z)(i().mark((function n(){var e,r,t,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(c,"/movie/upcoming?api_key=").concat(s,"&language=en-US"));case 2:if(e=n.sent,!((r=e.data.results).length>0)){n.next=8;break}return t=Math.floor(Math.random()*r.length),a=r[t],n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=(0,t.Z)(i().mark((function n(e){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(c,"/movie/").concat(e,"/videos?api_key=").concat(s,"&language=en-US"));case 2:return r=n.sent,n.abrupt("return",r.data.results);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},1061:function(n,e,r){r.d(e,{Y:function(){return i}});var t=r(4134),a=r(184),i=(0,t.I)({displayName:"ArrowLeftIcon",path:(0,a.jsxs)("g",{fill:"currentColor",children:[(0,a.jsx)("path",{d:"M10.416,12a2.643,2.643,0,0,1,.775-1.875L20.732.584a1.768,1.768,0,0,1,2.5,2.5l-8.739,8.739a.25.25,0,0,0,0,.354l8.739,8.739a1.768,1.768,0,0,1-2.5,2.5l-9.541-9.541A2.643,2.643,0,0,1,10.416,12Z"}),(0,a.jsx)("path",{d:"M.25,12a2.643,2.643,0,0,1,.775-1.875L10.566.584a1.768,1.768,0,0,1,2.5,2.5L4.327,11.823a.25.25,0,0,0,0,.354l8.739,8.739a1.768,1.768,0,0,1-2.5,2.5L1.025,13.875A2.643,2.643,0,0,1,.25,12Z"})]})})}}]);
//# sourceMappingURL=268.13ec09d0.chunk.js.map